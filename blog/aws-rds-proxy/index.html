<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Black Arrow Gang"><meta name=description content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta name=keywords content="Best practices,High availability,Cloud network security,Secure remote access,Containerization,Multi-region deployments,Platform,Scalability,DevOps services,DevOps solutions,DevOps consulting,Continuous Integration,Continuous Deployment,Infrastructure as Code,Cloud-native applications,Cloud computing services,Serverless architecture,Microservices architecture,Cloud migration strategies,Disaster recovery"><meta itemprop=name content="Black Arrow Gang"><meta itemprop=description content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta property="og:title" content="Black Arrow Gang"><meta property="og:description" content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta property="og:type" content="website"><meta property="og:url" content="https://www.blackarrowgang.com/"><link rel=canonical href=https://www.blackarrowgang.com/><script async src="https://www.googletagmanager.com/gtag/js?id=G-GZLHVFY8EK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GZLHVFY8EK",{anonymize_ip:!1})}</script><link rel=icon type=image/x-icon href=https://blackarrowgang.github.io/Landing/img/favicon-16x16.png><link rel=stylesheet href=https://blackarrowgang.github.io/Landing/css/styles.css><script src=https://blackarrowgang.github.io/Landing/js/script.js defer></script><title>Black Arrow Gang - DevOps Services</title></head><body><header id=header class=header><div class=logo><a href=https://blackarrowgang.github.io/Landing/><img src=https://blackarrowgang.github.io/Landing/img/dragon_icon.png alt="Dragon icon">
<span>Black Arrow Gang</span></a></div><div class=navigation><input type=checkbox class=toggle-menu><div class=hamburger></div><ul class=menu><li><a href=https://blackarrowgang.github.io/Landing/contact>Contact</a></li><li><a href=https://blackarrowgang.github.io/Landing/about>About Us</a></li><li><a href=https://blackarrowgang.github.io/Landing/blog>Blog</a></li></ul></div></header><link rel=stylesheet href=https://blackarrowgang.github.io/Landing/css/github-markdown.css><style>.markdown-body{box-sizing:border-box;margin:0 auto;min-width:200px;max-width:980px;padding:45px;background-color:#1b1c1d}@media(max-width:767px){.markdown-body{padding:15px}}ul{list-style:none;padding:10 0 0;margin:0}.space{padding:inherit}</style><div class=container><main><a href=https://blackarrowgang.github.io/Landing/>Go back</a><div class=markdown-body><h1 id=aws-rds-proxy-the-key-to-flexibility-security-and-high-performance><strong>AWS RDS Proxy: The Key to Flexibility, Security, and High Performance</strong></h1><p>üîÑAWS RDS Proxy makes managing and scaling databases on Amazon RDS easier. It boosts performance, handles failovers smoothly, and simplifies database tasks. With connection pooling, it optimizes resource usage, ensuring efficient operations and better security.‚ö°Ô∏èüîí</p><h2 id=table-of-contents><strong>Table of contents</strong></h2><ul><li><a href=#use-cases>Use Cases</a></li><li><a href=#requirements>Requirements</a></li><li><a href=#installation>Installation</a></li><li><a href=#usage>Usage</a></li><li><a href=#how-it-works>How It Works</a></li><li><a href=#support>Support</a></li></ul><p><img src=https://raw.githubusercontent.com/BlackArrowGang/Arsenal/main/quiver/aws-rds-proxy/diagrams/aws-rds-proxy-diagram.png alt="RDS Proxy Diagram"></p><h2 id=use-cases><strong>Use Cases</strong></h2><ol><li><p><strong>Flexible Traffic Redirection:</strong> Provides exceptional flexibility for redirecting and distributing database traffic to accommodate evolving application requirements. It enables seamless redirection of incoming traffic across multiple database instances without the need to modify application code.</p></li><li><p><strong>Highly Scalable Database Connections:</strong> Simplifies managing database connections. With connection pooling and automatic scaling, it handles thousands of concurrent connections, ensuring scalability for your applications.</p></li><li><p><strong>Improved Database Performance:</strong> By leveraging AWS RDS Proxy, you can enhance the performance of your applications that interact with the database. RDS Proxy helps reduce connection establishment times and handles connection pooling efficiently, resulting in faster response times and improved overall database performance.</p></li></ol><h2 id=requirements><strong>Requirements</strong></h2><table><thead><tr><th>Name</th><th>Version</th></tr></thead><tbody><tr><td><a href=https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli>Terraform</a></td><td>>= 1.0</td></tr><tr><td><a href=https://github.com/aws/aws-cli>AWS CLI</a></td><td>>= 2.0</td></tr><tr><td><a href=https://openvpn.net/community-downloads/>OpenVPN</a></td><td>>= 2.5</td></tr></tbody></table><h2 id=installation><strong>Installation</strong></h2><p>Clone the repository</p><pre tabindex=0><code>git clone https://github.com/BlackArrowGang/Arsenal.git
</code></pre><p>Go to the solution directory</p><pre tabindex=0><code>cd /Arsenal/quiver/aws-rds-proxy
</code></pre><p>Install terraform modules</p><pre tabindex=0><code>terraform init
</code></pre><h2 id=usage><strong>Usage</strong></h2><p><strong>Note:</strong> It might take a few minutes to fully create.</p><p>To use this code, follow these steps:</p><ol><li>Run the following commands</li></ol><pre tabindex=0><code>terraform plan
</code></pre><pre tabindex=0><code>terraform apply
</code></pre><h2 id=how-it-works><strong>How It Works</strong></h2><ul><li><p><strong>Provider and VPC Configuration:</strong></p><ul><li>Configure the AWS provider with the default profile and region.</li><li>Use the <code>terraform-aws-modules/vpc/aws</code> module to create a VPC.<ul><li>Specify the VPC name, availability zones, CIDR block, private subnets, and database subnets.</li></ul></li></ul></li><li><p><strong>RDS Proxy Configuration:</strong></p><ul><li>Use the <code>terraform-aws-modules/rds-proxy/aws</code> module to create an RDS Proxy.<ul><li>Specify the RDS Proxy name, IAM role name, and authentication mode.</li><li>Create IAM policy and role if enabled.</li><li>Configure VPC subnet IDs and security group IDs.</li><li>Define RDS Proxy endpoints for read-write operations.</li><li>Configure secrets for the RDS Proxy.</li></ul></li></ul></li><li><p><strong>RDS Aurora Configuration:</strong></p><ul><li>Use the <code>terraform-aws-modules/rds-aurora/aws</code> module to create an RDS Aurora cluster.<ul><li>Specify the Aurora cluster name, engine, engine mode, and engine version.</li><li>Set up the master username and password.</li><li>Configure availability zones, instance class, and scaling configuration.</li><li>Define VPC ID, database subnet group, and security group IDs.</li><li>Set up security group rules, monitoring interval, encryption, and tags.</li></ul></li></ul></li><li><p><strong>Security Group Configuration:</strong></p><ul><li><p>Create a VPN access security group using the <code>terraform-aws-modules/security-group/aws</code> module.</p><ul><li>Specify the security group name, description, and VPC ID.</li><li>Allow inbound traffic on UDP port 443 from any IP address.</li></ul></li><li><p>Create an RDS access security group using the same module.</p><ul><li>Specify the security group name, description, and VPC ID.</li><li>Allow inbound and outbound traffic on TCP port 5432 to and from itself.</li></ul></li><li><p>Create a resource access security group using the same module.</p><ul><li>Specify the security group name, description, and VPC ID.</li><li>Allow all inbound and outbound traffic to and from itself.</li></ul></li></ul></li><li><p><strong>KMS Key Configuration:</strong></p><ul><li>Use the <code>terraform-aws-modules/kms/aws</code> module to create a KMS key.<ul><li>Specify the key description and usage.</li><li>Assign an alias to the KMS key.</li></ul></li></ul></li><li><p><strong>Secrets Configuration:</strong></p><ul><li><p>Create an AWS Secrets Manager secret for the RDS superuser credentials.</p><ul><li>Specify the secret name, description, and KMS key ID.</li></ul></li><li><p>Create a secret version for the RDS superuser credentials.</p><ul><li>Associate the secret version with the previously created secret.</li><li>Set the username and password for the RDS superuser.</li></ul></li></ul></li><li><p><strong>Client VPN Configuration:</strong></p><ul><li><p>Create an AWS Client VPN endpoint.</p><ul><li>Specify the description, server certificate ARN, client CIDR block, split tunneling, VPC ID, and security group IDs.</li><li>Configure certificate-based authentication with the root certificate chain ARN.</li><li>Disable connection logging.</li></ul></li><li><p>Authorize VPN access to the VPC.</p><ul><li>Associate the Client VPN endpoint with the VPC and allow access to all groups.</li></ul></li><li><p>Associate subnets with the Client VPN endpoint.</p><ul><li>Associate the Client VPN endpoint with each private subnet in the VPC.</li></ul></li></ul></li></ul><h2 id=support><strong>Support</strong></h2><p>If you encounter any issues or need assistance setting things up, Hire us and we can do it for you.</p><p>Want to try things for yourself?, checkout our github repository <a href=https://github.com/BlackArrowGang/Arsenal/tree/main/quiver/aws-rds-proxy>Arsenal</a>.</p><p>To get started, you can visit our website <a href=https://blackarrowgang.com>blackarrowgang.com</a> to explore our services and schedule a meeting with our team. We are committed to providing you with the necessary support and guidance.</p><p>Dont forget to checkout our youtube channel <a href=https://www.youtube.com/@blackarrowgang3373>Black Arrow Gang</a>, where we will showcase the functionality of this services in the future.</p><p>And if you are feeling generous you can go ahead and buy us a cup a coffee.</p><p><a href=https://blackarrowgang.com><img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png alt="&amp;ldquo;Buy Me A Coffee&amp;rdquo;"></a></p></div></main><aside><div class=push><div class=calendly-inline-widget data-url="https://calendly.com/d/z7q-zjf-v2r/initial-consultation-call?hide_event_type_details=1&hide_gdpr_banner=1&background_color=232425&text_color=eaeaea&primary_color=8fd694"><h2>Need help with this?</h2><h3>Let us handle your needs</h3></div><script type=text/javascript src=https://assets.calendly.com/assets/external/widget.js async></script></div></aside></div><footer><p>¬© Copyright 2023, BlackArrowGang. All Rights Reserved</p><span class=icons><a href=mailto:blackarrowgang001@gmail.com rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-email.png alt="email link icon"></a>
<a href=https://github.com/BlackArrowGang/Arsenal target=_blank rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-github.png alt="github link icon"></a>
<a href=https://youtube.com/@blackarrowgang3373 target=_blank rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-youtube.png alt="youtube link icon"></a></span></footer></body></html>