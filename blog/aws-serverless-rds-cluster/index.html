<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Black Arrow Gang"><meta name=description content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta name=keywords content="Best practices,High availability,Cloud network security,Secure remote access,Containerization,Multi-region deployments,Platform,Scalability,DevOps services,DevOps solutions,DevOps consulting,Continuous Integration,Continuous Deployment,Infrastructure as Code,Cloud-native applications,Cloud computing services,Serverless architecture,Microservices architecture,Cloud migration strategies,Disaster recovery"><meta itemprop=name content="Black Arrow Gang"><meta itemprop=description content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta property="og:title" content="Black Arrow Gang"><meta property="og:description" content="Leave the heavy lifting to us: DevOps, Cloud, and SRE solutions that simplify and optimize your operations."><meta property="og:type" content="website"><meta property="og:url" content="https://www.blackarrowgang.com/"><link rel=canonical href=https://www.blackarrowgang.com/><script async src="https://www.googletagmanager.com/gtag/js?id=G-GZLHVFY8EK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GZLHVFY8EK",{anonymize_ip:!1})}</script><link rel=icon type=image/x-icon href=https://blackarrowgang.github.io/Landing/img/favicon-16x16.png><link rel=stylesheet href=https://blackarrowgang.github.io/Landing/css/styles.css><script src=https://blackarrowgang.github.io/Landing/js/script.js defer></script><title>Black Arrow Gang - DevOps Services</title></head><body><header id=header class=header><div class=logo><a href=https://blackarrowgang.github.io/Landing/><img src=https://blackarrowgang.github.io/Landing/img/dragon_icon.png alt="Dragon icon">
<span>Black Arrow Gang</span></a></div><div class=navigation><input type=checkbox class=toggle-menu><div class=hamburger></div><ul class=menu><li><a href=https://blackarrowgang.github.io/Landing/contact>Contact</a></li><li><a href=https://blackarrowgang.github.io/Landing/about>About Us</a></li><li><a href=https://blackarrowgang.github.io/Landing/blog>Blog</a></li></ul></div></header><link rel=stylesheet href=https://blackarrowgang.github.io/Landing/css/github-markdown.css><style>.markdown-body{box-sizing:border-box;margin:0 auto;min-width:200px;max-width:980px;padding:45px;background-color:#1b1c1d}@media(max-width:767px){.markdown-body{padding:15px}}ul{list-style:none;padding:10 0 0;margin:0}.space{padding:inherit}</style><div class=container><main><div class=markdown-body><div class=route-navigation><ul><li><a href=https://blackarrowgang.github.io/Landing/>Home</a></li><li><span>></span></li><li><a href=https://blackarrowgang.github.io/Landing//blog>Blog</a></li><li><span>></span></li><li><span class=markdown-body-color>aws serverless rds cluster</span></li></ul></div><h1 id=rds-serverless-cluster-available-reliable-financiable><strong>RDS Serverless Cluster: Available, Reliable, Financiable</strong></h1><p>âœ¨Aurora Serverless databases offer flexible scaling, automatic maintenance, and cost savings. They adapt resources in real-time, reduce expenses by pausing during idle periods, and ensure high availability. With simplified setup and management, developers can focus on their applications without worrying about capacity planning. ðŸ’°ðŸ”„</p><h2 id=table-of-contents><strong>Table of contents</strong></h2><ul><li><a href=#rds-serverless-cluster-available-reliable-financiable><strong>RDS Serverless Cluster: Available, Reliable, Financiable</strong></a><ul><li><a href=#table-of-contents><strong>Table of contents</strong></a></li><li><a href=#use-cases><strong>Use Cases</strong></a></li><li><a href=#requirements><strong>Requirements</strong></a></li><li><a href=#installation><strong>Installation</strong></a></li><li><a href=#usage><strong>Usage</strong></a></li><li><a href=#how-it-works><strong>How It Works</strong></a></li><li><a href=#support><strong>Support</strong></a></li></ul></li></ul><p><img src=https://raw.githubusercontent.com/BlackArrowGang/Arsenal/main/quiver/aws-serverless-rds-cluster/diagrams/aws-serverless-rds-cluster-diagram.png alt="RDS Cluster Diagram"></p><h2 id=use-cases><strong>Use Cases</strong></h2><p>The AWS RDS Aurora database cluster setup can be utilized in various scenarios, including:</p><ol><li><p><strong>Effortless Scalability for Startups</strong>: Startups effortlessly scale their databases with RDS Aurora serverless architecture and Terraform. Automatic scaling handles unpredictable growth, while streamlined resource management and cost-effective scaling optimize operations. Terraform simplifies disaster recovery, provisioning and configuration, enabling startups to establish reliable, scalable infrastructure for hassle-free growth.</p></li><li><p><strong>Highly Available Applications</strong>: Deploying an RDS Aurora database cluster ensures high availability for your applications. By leveraging automatic replication and failover capabilities, you can maintain uninterrupted access to your database even in the event of a failure.</p></li><li><p><strong>Multi-Region Data Replication</strong>: RDS Aurora supports cross-region replication, enabling you to replicate your database across multiple AWS regions. This provides disaster recovery capabilities and allows you to serve your customers from different geographical locations with low latency.</p></li></ol><h2 id=requirements><strong>Requirements</strong></h2><table><thead><tr><th>Name</th><th>Version</th></tr></thead><tbody><tr><td><a href=https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli>Terraform</a></td><td>>= 1.0</td></tr><tr><td><a href=https://github.com/aws/aws-cli>AWS CLI</a></td><td>>= 2.0</td></tr><tr><td><a href=https://openvpn.net/community-downloads/>OpenVPN</a></td><td>>= 2.5</td></tr></tbody></table><h2 id=installation><strong>Installation</strong></h2><p>Clone the repository</p><pre tabindex=0><code>git clone https://github.com/BlackArrowGang/Arsenal.git
</code></pre><p>Go to the solution directory</p><pre tabindex=0><code>cd /Arsenal/quiver/aws-serverless-rds-cluster
</code></pre><p>Install terraform modules</p><pre tabindex=0><code>terraform init
</code></pre><h2 id=usage><strong>Usage</strong></h2><p><strong>Note:</strong> It might take a few minutes to fully create.</p><p>To use this code, follow these steps:</p><p><strong>Modify Code</strong></p><ul><li>Set the desired profile, region, vpc and database config on the locals section inside the main.tf file</li><li>Add your VPN server and client certificate ARN&rsquo;s.</li></ul><p><strong>Terraform Setup</strong></p><ol><li>Run the following commands</li></ol><pre tabindex=0><code>terraform plan
</code></pre><pre tabindex=0><code>terraform apply
</code></pre><p><strong>Connect to VPN</strong></p><ul><li>Desktop Client<ol><li>Refer to this AWS
documentation for detailed instructions on setting up the vpn certificates on your account.</li><li>Then go to the section named &ldquo;Exporting and configuring the VPN client configuration file&rdquo; of this other AWS documentation to connect with your vpn client.</li></ol></li><li>Linux Command<pre tabindex=0><code>sudo openvpn --config config.ovpn
</code></pre></li></ul><p><strong>Connect To Database Cluster</strong></p><ul><li>Now that you are connected to the VPN, you have access to the database cluster and can connect to it, be sure to connect via the url endpoint of any database instance</li></ul><h2 id=how-it-works><strong>How It Works</strong></h2><ol><li><p>VPC Module:</p><ul><li>The VPC module creates a custom VPC with the CIDR block &ldquo;142.32.0.0/16&rdquo; across two availability zones (&ldquo;us-east-2a&rdquo; and &ldquo;us-east-2b&rdquo;).</li><li>It sets up two private subnets with CIDR blocks &ldquo;142.32.1.0/24&rdquo; and &ldquo;142.32.2.0/24&rdquo;.</li><li>Additionally, it creates database subnets with CIDR blocks &ldquo;142.32.3.0/24&rdquo; and &ldquo;142.32.4.0/24&rdquo;.</li></ul></li><li><p>Aurora PostgreSQL RDS Module:</p><ul><li>The RDS module deploys an Aurora PostgreSQL database cluster within the VPC.</li><li>It utilizes the &ldquo;db.serverless&rdquo; instance class with two instances.</li><li>Serverless scaling is configured with a minimum capacity of 0.5 and a maximum capacity of 1.</li><li>The database is connected to the VPC, a database subnet group, and the &ldquo;resource_access_security_group&rdquo; security group.</li><li>Other configurations include monitoring, skipping the final snapshot, applying changes immediately, and encrypting the storage.</li></ul></li><li><p>Security Group Modules:</p><ul><li>The &ldquo;vpn_access_security_group&rdquo; module is responsible for creating a security group named &ldquo;vpn_access&rdquo; that allows connection to the VPN.</li><li>The &ldquo;resource_access_security_group&rdquo; module creates a security group named &ldquo;resource-access&rdquo; that allows access to AWS resources.</li><li>The &ldquo;resource_access_security_group&rdquo; module enables communication between networks within the VPC and allows outbound TCP traffic on port 5432 to itself.</li></ul></li><li><p>Client VPN Endpoint Configuration:</p><ul><li>The server certificate ARN.</li><li>A client CIDR block of &ldquo;192.168.128.0/22&rdquo;.</li><li>The VPN endpoint is associated with the VPC and the &ldquo;vpn_access_security_group&rdquo; and &ldquo;resource_access_security_group&rdquo; security groups.</li><li>Certificate-based authentication is configured with the root certificate chain ARN.</li></ul></li><li><p>Client VPN Authorization Rule:</p><ul><li>An authorization rule is set up to allow VPN access to the entire VPC or a specific CIDR block.</li><li>The authorization rule is associated with the client VPN endpoint.</li></ul></li><li><p>Client VPN Network Associations:</p><ul><li>The client VPN endpoint is associated with the private subnets the VPC to enable VPN connectivity.</li></ul></li></ol><h2 id=support><strong>Support</strong></h2><p>If you encounter any issues or need assistance setting things up, Hire us and we can do it for you.</p><p>Want to try things for yourself?, checkout our github repository <a href=https://github.com/BlackArrowGang/Arsenal/tree/main/quiver/aws-serverless-rds-cluster>Arsenal</a>.</p><p>To get started, you can visit our website <a href=https://blackarrowgang.com>blackarrowgang.com</a> to explore our services and schedule a meeting with our team. We are committed to providing you with the necessary support and guidance.</p><p>Dont forget to checkout our youtube channel <a href=https://www.youtube.com/@blackarrowgang3373>Black Arrow Gang</a>, where we will showcase the functionality of this services in the future.</p><p>And if you are feeling generous you can go ahead and buy us a cup a coffee.</p><p><a href=https://blackarrowgang.com><img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png alt="&amp;ldquo;Buy Me A Coffee&amp;rdquo;"></a></p></div></main><aside class="sidebar push"><div class=centered-element><div class="calendly-inline-widget fixed" data-url="https://calendly.com/d/z7q-zjf-v2r/initial-consultation-call?hide_event_type_details=1&hide_gdpr_banner=1&background_color=232425&text_color=eaeaea&primary_color=8fd694"><h2>Need help with this?</h2><h3>Let us handle your needs</h3></div></div><script type=text/javascript src=https://assets.calendly.com/assets/external/widget.js async></script></aside></div><footer><p>Â© Copyright 2023, BlackArrowGang. All Rights Reserved</p><span class=icons><a href=mailto:blackarrowgang001@gmail.com rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-email.png alt="email link icon"></a>
<a href=https://github.com/BlackArrowGang/Arsenal target=_blank rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-github.png alt="github link icon"></a>
<a href=https://youtube.com/@blackarrowgang3373 target=_blank rel=noopener><img src=https://blackarrowgang.github.io/Landing/img/icon-youtube.png alt="youtube link icon"></a></span></footer></body></html>